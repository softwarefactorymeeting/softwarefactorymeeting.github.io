{"version":3,"sources":["es6-module-loader.js"],"names":["global","URLPolyfill","url","baseURL","TypeError","m","String","replace","match","RangeError","protocol","username","password","host","hostname","port","pathname","search","hash","undefined","base","flag","slice","lastIndexOf","output","p","pop","push","join","this","origin","href","self","__global","addToError","err","msg","Error","message","call","__eval","source","debugName","context","Function","e","Module","Loader","options","_loader","loaderObj","loads","modules","importPromises","moduleRecords","defineProperty","get","SystemLoader","paths","applyPaths","name","wildcard","pathMatch","maxWildcardPrefixLen","pathParts","split","length","substr","wildcardPrefixLen","outPath","LoaderProto","isWindows","window","importScripts","document","process","platform","console","assert","indexOf","Array","prototype","item","i","thisLen","Object","obj","prop","opt","value","baseURI","getElementsByTagName","bases","location","cwd","URL","createLoad","status","linkSets","dependencies","metadata","loadModule","loader","Promise","asyncStartLoadPartwayThrough","step","address","moduleName","moduleMetadata","moduleSource","moduleAddress","requestLoad","request","refererName","refererAddress","resolve","reject","normalize","then","load","module","l","proceedToLocate","proceedToFetch","locate","proceedToTranslate","fetch","translate","instantiate","instantiateResult","anonCnt","isDeclarative","transpile","transpiled","curSystem","System","curRegister","register","deps","declare","depsList","execute","loadPromises","index","depLoad","key","concat","addLoadToLinkSet","all","updateLinkSetOnLoad","exc","exception","linkSetFailed","stepState","existingLoad","done","linkSet","createLinkSet","startingLoad","loadingCount","j","d","doLink","error","link","_newModule","evaluated","finishLoad","abrupt","checkError","pLoad","dep","failed","linkIndex","splice","globalLoadsIndex","trace","depMap","forEach","map","kind","loadIndex","doDynamicExecute","linkError","createImportPromise","promise","evaluateLoadedModule","doEnsureEvaluated","constructor","define","delete","has","import","parentName","parentAddress","sourcePromise","newModule","pNames","getOwnPropertyNames","configurable","enumerable","set","freeze","referrerName","referrerAddress","absURLRegEx","transpiler","transpilerNormalized","curLoader","Reflect","default","__useDefault","fetchTextFromURL","XMLHttpRequest","authorization","fulfill","xhr","responseText","statusText","sameDomain","doTimeout","domainCheck","exec","XDomainRequest","onload","onerror","ontimeout","onprogress","timeout","onreadystatechange","readyState","addEventListener","open","setRequestHeader","withCredentials","setTimeout","send","require","fs","readFile","data","dataString","opts","headers","Accept","credentials","r","ok","text","exports","LoaderPolyfill"],"mappings":"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","file":"es6-module-loader.min.js","sourcesContent":["// from https://gist.github.com/Yaffle/1088850\n(function(global) {\nfunction URLPolyfill(url, baseURL) {\n  if (typeof url != 'string')\n    throw new TypeError('URL must be a string');\n  var m = String(url).replace(/^\\s+|\\s+$/g, \"\").match(/^([^:\\/?#]+:)?(?:\\/\\/(?:([^:@\\/?#]*)(?::([^:@\\/?#]*))?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n  if (!m)\n    throw new RangeError('Invalid URL format');\n  var protocol = m[1] || \"\";\n  var username = m[2] || \"\";\n  var password = m[3] || \"\";\n  var host = m[4] || \"\";\n  var hostname = m[5] || \"\";\n  var port = m[6] || \"\";\n  var pathname = m[7] || \"\";\n  var search = m[8] || \"\";\n  var hash = m[9] || \"\";\n  if (baseURL !== undefined) {\n    var base = baseURL instanceof URLPolyfill ? baseURL : new URLPolyfill(baseURL);\n    var flag = !protocol && !host && !username;\n    if (flag && !pathname && !search)\n      search = base.search;\n    if (flag && pathname[0] !== \"/\")\n      pathname = (pathname ? (((base.host || base.username) && !base.pathname ? \"/\" : \"\") + base.pathname.slice(0, base.pathname.lastIndexOf(\"/\") + 1) + pathname) : base.pathname);\n    // dot segments removal\n    var output = [];\n    pathname.replace(/^(\\.\\.?(\\/|$))+/, \"\")\n      .replace(/\\/(\\.(\\/|$))+/g, \"/\")\n      .replace(/\\/\\.\\.$/, \"/../\")\n      .replace(/\\/?[^\\/]*/g, function (p) {\n        if (p === \"/..\")\n          output.pop();\n        else\n          output.push(p);\n      });\n    pathname = output.join(\"\").replace(/^\\//, pathname[0] === \"/\" ? \"/\" : \"\");\n    if (flag) {\n      port = base.port;\n      hostname = base.hostname;\n      host = base.host;\n      password = base.password;\n      username = base.username;\n    }\n    if (!protocol)\n      protocol = base.protocol;\n  }\n\n  // convert windows file URLs to use /\n  if (protocol == 'file:')\n    pathname = pathname.replace(/\\\\/g, '/');\n\n  this.origin = host ? protocol + (protocol !== \"\" || host !== \"\" ? \"//\" : \"\") + host : \"\";\n  this.href = protocol + (protocol && host || protocol == \"file:\" ? \"//\" : \"\") + (username !== \"\" ? username + (password !== \"\" ? \":\" + password : \"\") + \"@\" : \"\") + host + pathname + search + hash;\n  this.protocol = protocol;\n  this.username = username;\n  this.password = password;\n  this.host = host;\n  this.hostname = hostname;\n  this.port = port;\n  this.pathname = pathname;\n  this.search = search;\n  this.hash = hash;\n}\nglobal.URLPolyfill = URLPolyfill;\n})(typeof self != 'undefined' ? self : global);\n(function(__global) {\n\n  var isWorker = typeof window == 'undefined' && typeof self != 'undefined' && typeof importScripts != 'undefined';\n  var isBrowser = typeof window != 'undefined' && typeof document != 'undefined';\n  var isWindows = typeof process != 'undefined' && typeof process.platform != 'undefined' && !!process.platform.match(/^win/);\n\n  if (!__global.console)\n    __global.console = { assert: function() {} };\n\n  // IE8 support\n  var indexOf = Array.prototype.indexOf || function(item) {\n    for (var i = 0, thisLen = this.length; i < thisLen; i++) {\n      if (this[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  \n  var defineProperty;\n  (function () {\n    try {\n      if (!!Object.defineProperty({}, 'a', {}))\n        defineProperty = Object.defineProperty;\n    }\n    catch (e) {\n      defineProperty = function(obj, prop, opt) {\n        try {\n          obj[prop] = opt.value || opt.get.call(obj);\n        }\n        catch(e) {}\n      }\n    }\n  })();\n\n  function addToError(err, msg) {\n    if (err instanceof Error) {\n      err.message = msg + '\\n\\t' + err.message;\n      Error.call(err, err.message);\n    }\n    else {\n      err = msg + '\\n\\t' + err;\n    }\n    return err;\n  }\n\n  function __eval(source, debugName, context) {\n    try {\n      new Function(source).call(context);\n    }\n    catch(e) {\n      throw addToError(e, 'Evaluating ' + debugName);\n    }\n  }\n\n  var baseURI;\n  // environent baseURI detection\n  if (typeof document != 'undefined' && document.getElementsByTagName) {\n    baseURI = document.baseURI;\n\n    if (!baseURI) {\n      var bases = document.getElementsByTagName('base');\n      baseURI = bases[0] && bases[0].href || window.location.href;\n    }\n\n    // sanitize out the hash and querystring\n    baseURI = baseURI.split('#')[0].split('?')[0];\n    baseURI = baseURI.substr(0, baseURI.lastIndexOf('/') + 1);\n  }\n  else if (typeof process != 'undefined' && process.cwd) {\n    baseURI = 'file://' + (isWindows ? '/' : '') + process.cwd() + '/';\n    if (isWindows)\n      baseURI = baseURI.replace(/\\\\/g, '/');\n  }\n  else if (typeof location != 'undefined') {\n    baseURI = __global.location.href;\n  }\n  else {\n    throw new TypeError('No environment baseURI');\n  }\n\n  var URL = __global.URLPolyfill || __global.URL;\n\n/*\n*********************************************************************************************\n\n  Dynamic Module Loader Polyfill\n\n    - Implemented exactly to the former 2014-08-24 ES6 Specification Draft Rev 27, Section 15\n      http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts#august_24_2014_draft_rev_27\n\n    - Functions are commented with their spec numbers, with spec differences commented.\n\n    - Spec bugs are commented in this code with links.\n\n    - Abstract functions have been combined where possible, and their associated functions\n      commented.\n\n    - Realm implementation is entirely omitted.\n\n*********************************************************************************************\n*/\n\nfunction Module() {}\n// http://www.ecma-international.org/ecma-262/6.0/#sec-@@tostringtag\ndefineProperty(Module.prototype, 'toString', {\n  value: function() {\n    return 'Module';\n  }\n});\nfunction Loader(options) {\n  this._loader = {\n    loaderObj: this,\n    loads: [],\n    modules: {},\n    importPromises: {},\n    moduleRecords: {}\n  };\n\n  // 26.3.3.6\n  defineProperty(this, 'global', {\n    get: function() {\n      return __global;\n    }\n  });\n\n  // 26.3.3.13 realm not implemented\n}\n\n(function() {\n\n// Some Helpers\n\n// logs a linkset snapshot for debugging\n/* function snapshot(loader) {\n  console.log('---Snapshot---');\n  for (var i = 0; i < loader.loads.length; i++) {\n    var load = loader.loads[i];\n    var linkSetLog = '  ' + load.name + ' (' + load.status + '): ';\n\n    for (var j = 0; j < load.linkSets.length; j++) {\n      linkSetLog += '{' + logloads(load.linkSets[j].loads) + '} ';\n    }\n    console.log(linkSetLog);\n  }\n  console.log('');\n}\nfunction logloads(loads) {\n  var log = '';\n  for (var k = 0; k < loads.length; k++)\n    log += loads[k].name + (k != loads.length - 1 ? ' ' : '');\n  return log;\n} */\n\n\n/* function checkInvariants() {\n  // see https://bugs.ecmascript.org/show_bug.cgi?id=2603#c1\n\n  var loads = System._loader.loads;\n  var linkSets = [];\n\n  for (var i = 0; i < loads.length; i++) {\n    var load = loads[i];\n    console.assert(load.status == 'loading' || load.status == 'loaded', 'Each load is loading or loaded');\n\n    for (var j = 0; j < load.linkSets.length; j++) {\n      var linkSet = load.linkSets[j];\n\n      for (var k = 0; k < linkSet.loads.length; k++)\n        console.assert(loads.indexOf(linkSet.loads[k]) != -1, 'linkSet loads are a subset of loader loads');\n\n      if (linkSets.indexOf(linkSet) == -1)\n        linkSets.push(linkSet);\n    }\n  }\n\n  for (var i = 0; i < loads.length; i++) {\n    var load = loads[i];\n    for (var j = 0; j < linkSets.length; j++) {\n      var linkSet = linkSets[j];\n\n      if (linkSet.loads.indexOf(load) != -1)\n        console.assert(load.linkSets.indexOf(linkSet) != -1, 'linkSet contains load -> load contains linkSet');\n\n      if (load.linkSets.indexOf(linkSet) != -1)\n        console.assert(linkSet.loads.indexOf(load) != -1, 'load contains linkSet -> linkSet contains load');\n    }\n  }\n\n  for (var i = 0; i < linkSets.length; i++) {\n    var linkSet = linkSets[i];\n    for (var j = 0; j < linkSet.loads.length; j++) {\n      var load = linkSet.loads[j];\n\n      for (var k = 0; k < load.dependencies.length; k++) {\n        var depName = load.dependencies[k].value;\n        var depLoad;\n        for (var l = 0; l < loads.length; l++) {\n          if (loads[l].name != depName)\n            continue;\n          depLoad = loads[l];\n          break;\n        }\n\n        // loading records are allowed not to have their dependencies yet\n        // if (load.status != 'loading')\n        //  console.assert(depLoad, 'depLoad found');\n\n        // console.assert(linkSet.loads.indexOf(depLoad) != -1, 'linkset contains all dependencies');\n      }\n    }\n  }\n} */\n\n  // 15.2.3 - Runtime Semantics: Loader State\n\n  // 15.2.3.11\n  function createLoaderLoad(object) {\n    return {\n      // modules is an object for ES5 implementation\n      modules: {},\n      loads: [],\n      loaderObj: object\n    };\n  }\n\n  // 15.2.3.2 Load Records and LoadRequest Objects\n\n  // 15.2.3.2.1\n  function createLoad(name) {\n    return {\n      status: 'loading',\n      name: name,\n      linkSets: [],\n      dependencies: [],\n      metadata: {}\n    };\n  }\n\n  // 15.2.3.2.2 createLoadRequestObject, absorbed into calling functions\n\n  // 15.2.4\n\n  // 15.2.4.1\n  function loadModule(loader, name, options) {\n    return new Promise(asyncStartLoadPartwayThrough({\n      step: options.address ? 'fetch' : 'locate',\n      loader: loader,\n      moduleName: name,\n      // allow metadata for import https://bugs.ecmascript.org/show_bug.cgi?id=3091\n      moduleMetadata: options && options.metadata || {},\n      moduleSource: options.source,\n      moduleAddress: options.address\n    }));\n  }\n\n  // 15.2.4.2\n  function requestLoad(loader, request, refererName, refererAddress) {\n    // 15.2.4.2.1 CallNormalize\n    return new Promise(function(resolve, reject) {\n      resolve(loader.loaderObj.normalize(request, refererName, refererAddress));\n    })\n    // 15.2.4.2.2 GetOrCreateLoad\n    .then(function(name) {\n      var load;\n      if (loader.modules[name]) {\n        load = createLoad(name);\n        load.status = 'linked';\n        // https://bugs.ecmascript.org/show_bug.cgi?id=2795\n        load.module = loader.modules[name];\n        return load;\n      }\n\n      for (var i = 0, l = loader.loads.length; i < l; i++) {\n        load = loader.loads[i];\n        if (load.name != name)\n          continue;\n        console.assert(load.status == 'loading' || load.status == 'loaded', 'loading or loaded');\n        return load;\n      }\n\n      load = createLoad(name);\n      loader.loads.push(load);\n\n      proceedToLocate(loader, load);\n\n      return load;\n    });\n  }\n\n  // 15.2.4.3\n  function proceedToLocate(loader, load) {\n    proceedToFetch(loader, load,\n      Promise.resolve()\n      // 15.2.4.3.1 CallLocate\n      .then(function() {\n        return loader.loaderObj.locate({ name: load.name, metadata: load.metadata });\n      })\n    );\n  }\n\n  // 15.2.4.4\n  function proceedToFetch(loader, load, p) {\n    proceedToTranslate(loader, load,\n      p\n      // 15.2.4.4.1 CallFetch\n      .then(function(address) {\n        // adjusted, see https://bugs.ecmascript.org/show_bug.cgi?id=2602\n        if (load.status != 'loading')\n          return;\n        load.address = address;\n\n        return loader.loaderObj.fetch({ name: load.name, metadata: load.metadata, address: address });\n      })\n    );\n  }\n\n  var anonCnt = 0;\n\n  // 15.2.4.5\n  function proceedToTranslate(loader, load, p) {\n    p\n    // 15.2.4.5.1 CallTranslate\n    .then(function(source) {\n      if (load.status != 'loading')\n        return;\n\n      return Promise.resolve(loader.loaderObj.translate({ name: load.name, metadata: load.metadata, address: load.address, source: source }))\n\n      // 15.2.4.5.2 CallInstantiate\n      .then(function(source) {\n        load.source = source;\n        return loader.loaderObj.instantiate({ name: load.name, metadata: load.metadata, address: load.address, source: source });\n      })\n\n      // 15.2.4.5.3 InstantiateSucceeded\n      .then(function(instantiateResult) {\n        if (instantiateResult === undefined) {\n          load.address = load.address || '<Anonymous Module ' + ++anonCnt + '>';\n\n          // instead of load.kind, use load.isDeclarative\n          load.isDeclarative = true;\n          return transpile.call(loader.loaderObj, load)\n          .then(function(transpiled) {\n            // Hijack System.register to set declare function\n            var curSystem = __global.System;\n            var curRegister = curSystem.register;\n            curSystem.register = function(name, deps, declare) {\n              if (typeof name != 'string') {\n                declare = deps;\n                deps = name;\n              }\n              // store the registered declaration as load.declare\n              // store the deps as load.deps\n              load.declare = declare;\n              load.depsList = deps;\n            }\n            // empty {} context is closest to undefined 'this' we can get\n            __eval(transpiled, load.address, {});\n            curSystem.register = curRegister;\n          });\n        }\n        else if (typeof instantiateResult == 'object') {\n          load.depsList = instantiateResult.deps || [];\n          load.execute = instantiateResult.execute;\n          load.isDeclarative = false;\n        }\n        else\n          throw TypeError('Invalid instantiate return value');\n      })\n      // 15.2.4.6 ProcessLoadDependencies\n      .then(function() {\n        load.dependencies = [];\n        var depsList = load.depsList;\n\n        var loadPromises = [];\n        for (var i = 0, l = depsList.length; i < l; i++) (function(request, index) {\n          loadPromises.push(\n            requestLoad(loader, request, load.name, load.address)\n\n            // 15.2.4.6.1 AddDependencyLoad (load is parentLoad)\n            .then(function(depLoad) {\n\n              // adjusted from spec to maintain dependency order\n              // this is due to the System.register internal implementation needs\n              load.dependencies[index] = {\n                key: request,\n                value: depLoad.name\n              };\n\n              if (depLoad.status != 'linked') {\n                var linkSets = load.linkSets.concat([]);\n                for (var i = 0, l = linkSets.length; i < l; i++)\n                  addLoadToLinkSet(linkSets[i], depLoad);\n              }\n\n              // console.log('AddDependencyLoad ' + depLoad.name + ' for ' + load.name);\n              // snapshot(loader);\n            })\n          );\n        })(depsList[i], i);\n\n        return Promise.all(loadPromises);\n      })\n\n      // 15.2.4.6.2 LoadSucceeded\n      .then(function() {\n        // console.log('LoadSucceeded ' + load.name);\n        // snapshot(loader);\n\n        console.assert(load.status == 'loading', 'is loading');\n\n        load.status = 'loaded';\n\n        var linkSets = load.linkSets.concat([]);\n        for (var i = 0, l = linkSets.length; i < l; i++)\n          updateLinkSetOnLoad(linkSets[i], load);\n      });\n    })\n    // 15.2.4.5.4 LoadFailed\n    ['catch'](function(exc) {\n      load.status = 'failed';\n      load.exception = exc;\n\n      var linkSets = load.linkSets.concat([]);\n      for (var i = 0, l = linkSets.length; i < l; i++) {\n        linkSetFailed(linkSets[i], load, exc);\n      }\n\n      console.assert(load.linkSets.length == 0, 'linkSets not removed');\n    });\n  }\n\n  // 15.2.4.7 PromiseOfStartLoadPartwayThrough absorbed into calling functions\n\n  // 15.2.4.7.1\n  function asyncStartLoadPartwayThrough(stepState) {\n    return function(resolve, reject) {\n      var loader = stepState.loader;\n      var name = stepState.moduleName;\n      var step = stepState.step;\n\n      if (loader.modules[name])\n        throw new TypeError('\"' + name + '\" already exists in the module table');\n\n      // adjusted to pick up existing loads\n      var existingLoad;\n      for (var i = 0, l = loader.loads.length; i < l; i++) {\n        if (loader.loads[i].name == name) {\n          existingLoad = loader.loads[i];\n\n          if (step == 'translate' && !existingLoad.source) {\n            existingLoad.address = stepState.moduleAddress;\n            proceedToTranslate(loader, existingLoad, Promise.resolve(stepState.moduleSource));\n          }\n\n          // a primary load -> use that existing linkset if it is for the direct load here\n          // otherwise create a new linkset unit\n          if (existingLoad.linkSets.length && existingLoad.linkSets[0].loads[0].name == existingLoad.name)\n            return existingLoad.linkSets[0].done.then(function() {\n              resolve(existingLoad);\n            });\n        }\n      }\n\n      var load = existingLoad || createLoad(name);\n\n      load.metadata = stepState.moduleMetadata;\n\n      var linkSet = createLinkSet(loader, load);\n\n      loader.loads.push(load);\n\n      resolve(linkSet.done);\n\n      if (step == 'locate')\n        proceedToLocate(loader, load);\n\n      else if (step == 'fetch')\n        proceedToFetch(loader, load, Promise.resolve(stepState.moduleAddress));\n\n      else {\n        console.assert(step == 'translate', 'translate step');\n        load.address = stepState.moduleAddress;\n        proceedToTranslate(loader, load, Promise.resolve(stepState.moduleSource));\n      }\n    }\n  }\n\n  // Declarative linking functions run through alternative implementation:\n  // 15.2.5.1.1 CreateModuleLinkageRecord not implemented\n  // 15.2.5.1.2 LookupExport not implemented\n  // 15.2.5.1.3 LookupModuleDependency not implemented\n\n  // 15.2.5.2.1\n  function createLinkSet(loader, startingLoad) {\n    var linkSet = {\n      loader: loader,\n      loads: [],\n      startingLoad: startingLoad, // added see spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995\n      loadingCount: 0\n    };\n    linkSet.done = new Promise(function(resolve, reject) {\n      linkSet.resolve = resolve;\n      linkSet.reject = reject;\n    });\n    addLoadToLinkSet(linkSet, startingLoad);\n    return linkSet;\n  }\n  // 15.2.5.2.2\n  function addLoadToLinkSet(linkSet, load) {\n    if (load.status == 'failed')\n      return;\n\n    console.assert(load.status == 'loading' || load.status == 'loaded', 'loading or loaded on link set');\n\n    for (var i = 0, l = linkSet.loads.length; i < l; i++)\n      if (linkSet.loads[i] == load)\n        return;\n\n    linkSet.loads.push(load);\n    load.linkSets.push(linkSet);\n\n    // adjustment, see https://bugs.ecmascript.org/show_bug.cgi?id=2603\n    if (load.status != 'loaded') {\n      linkSet.loadingCount++;\n    }\n\n    var loader = linkSet.loader;\n\n    for (var i = 0, l = load.dependencies.length; i < l; i++) {\n      if (!load.dependencies[i])\n        continue;\n\n      var name = load.dependencies[i].value;\n\n      if (loader.modules[name])\n        continue;\n\n      for (var j = 0, d = loader.loads.length; j < d; j++) {\n        if (loader.loads[j].name != name)\n          continue;\n\n        addLoadToLinkSet(linkSet, loader.loads[j]);\n        break;\n      }\n    }\n    // console.log('add to linkset ' + load.name);\n    // snapshot(linkSet.loader);\n  }\n\n  // linking errors can be generic or load-specific\n  // this is necessary for debugging info\n  function doLink(linkSet) {\n    var error = false;\n    try {\n      link(linkSet, function(load, exc) {\n        linkSetFailed(linkSet, load, exc);\n        error = true;\n      });\n    }\n    catch(e) {\n      linkSetFailed(linkSet, null, e);\n      error = true;\n    }\n    return error;\n  }\n\n  // 15.2.5.2.3\n  function updateLinkSetOnLoad(linkSet, load) {\n    // console.log('update linkset on load ' + load.name);\n    // snapshot(linkSet.loader);\n\n    console.assert(load.status == 'loaded' || load.status == 'linked', 'loaded or linked');\n\n    linkSet.loadingCount--;\n\n    if (linkSet.loadingCount > 0)\n      return;\n\n    // adjusted for spec bug https://bugs.ecmascript.org/show_bug.cgi?id=2995\n    var startingLoad = linkSet.startingLoad;\n\n    // non-executing link variation for loader tracing\n    // on the server. Not in spec.\n    /***/\n    if (linkSet.loader.loaderObj.execute === false) {\n      var loads = [].concat(linkSet.loads);\n      for (var i = 0, l = loads.length; i < l; i++) {\n        var load = loads[i];\n        load.module = !load.isDeclarative ? {\n          module: _newModule({})\n        } : {\n          name: load.name,\n          module: _newModule({}),\n          evaluated: true\n        };\n        load.status = 'linked';\n        finishLoad(linkSet.loader, load);\n      }\n      return linkSet.resolve(startingLoad);\n    }\n    /***/\n\n    var abrupt = doLink(linkSet);\n\n    if (abrupt)\n      return;\n\n    console.assert(linkSet.loads.length == 0, 'loads cleared');\n\n    linkSet.resolve(startingLoad);\n  }\n\n  // 15.2.5.2.4\n  function linkSetFailed(linkSet, load, exc) {\n    var loader = linkSet.loader;\n    var requests;\n\n    checkError: \n    if (load) {\n      if (linkSet.loads[0].name == load.name) {\n        exc = addToError(exc, 'Error loading ' + load.name);\n      }\n      else {\n        for (var i = 0; i < linkSet.loads.length; i++) {\n          var pLoad = linkSet.loads[i];\n          for (var j = 0; j < pLoad.dependencies.length; j++) {\n            var dep = pLoad.dependencies[j];\n            if (dep.value == load.name) {\n              exc = addToError(exc, 'Error loading ' + load.name + ' as \"' + dep.key + '\" from ' + pLoad.name);\n              break checkError;\n            }\n          }\n        }\n        exc = addToError(exc, 'Error loading ' + load.name + ' from ' + linkSet.loads[0].name);\n      }\n    }\n    else {\n      exc = addToError(exc, 'Error linking ' + linkSet.loads[0].name);\n    }\n\n\n    var loads = linkSet.loads.concat([]);\n    for (var i = 0, l = loads.length; i < l; i++) {\n      var load = loads[i];\n\n      // store all failed load records\n      loader.loaderObj.failed = loader.loaderObj.failed || [];\n      if (indexOf.call(loader.loaderObj.failed, load) == -1)\n        loader.loaderObj.failed.push(load);\n\n      var linkIndex = indexOf.call(load.linkSets, linkSet);\n      console.assert(linkIndex != -1, 'link not present');\n      load.linkSets.splice(linkIndex, 1);\n      if (load.linkSets.length == 0) {\n        var globalLoadsIndex = indexOf.call(linkSet.loader.loads, load);\n        if (globalLoadsIndex != -1)\n          linkSet.loader.loads.splice(globalLoadsIndex, 1);\n      }\n    }\n    linkSet.reject(exc);\n  }\n\n  // 15.2.5.2.5\n  function finishLoad(loader, load) {\n    // add to global trace if tracing\n    if (loader.loaderObj.trace) {\n      if (!loader.loaderObj.loads)\n        loader.loaderObj.loads = {};\n      var depMap = {};\n      load.dependencies.forEach(function(dep) {\n        depMap[dep.key] = dep.value;\n      });\n      loader.loaderObj.loads[load.name] = {\n        name: load.name,\n        deps: load.dependencies.map(function(dep){ return dep.key }),\n        depMap: depMap,\n        address: load.address,\n        metadata: load.metadata,\n        source: load.source,\n        kind: load.isDeclarative ? 'declarative' : 'dynamic'\n      };\n    }\n    // if not anonymous, add to the module table\n    if (load.name) {\n      console.assert(!loader.modules[load.name], 'load not in module table');\n      loader.modules[load.name] = load.module;\n    }\n    var loadIndex = indexOf.call(loader.loads, load);\n    if (loadIndex != -1)\n      loader.loads.splice(loadIndex, 1);\n    for (var i = 0, l = load.linkSets.length; i < l; i++) {\n      loadIndex = indexOf.call(load.linkSets[i].loads, load);\n      if (loadIndex != -1)\n        load.linkSets[i].loads.splice(loadIndex, 1);\n    }\n    load.linkSets.splice(0, load.linkSets.length);\n  }\n\n  function doDynamicExecute(linkSet, load, linkError) {\n    try {\n      var module = load.execute();\n    }\n    catch(e) {\n      linkError(load, e);\n      return;\n    }\n    if (!module || !(module instanceof Module))\n      linkError(load, new TypeError('Execution must define a Module instance'));\n    else\n      return module;\n  }\n\n  // 26.3 Loader\n\n  // 26.3.1.1\n  // defined at top\n\n  // importPromises adds ability to import a module twice without error - https://bugs.ecmascript.org/show_bug.cgi?id=2601\n  function createImportPromise(loader, name, promise) {\n    var importPromises = loader._loader.importPromises;\n    return importPromises[name] = promise.then(function(m) {\n      importPromises[name] = undefined;\n      return m;\n    }, function(e) {\n      importPromises[name] = undefined;\n      throw e;\n    });\n  }\n\n  Loader.prototype = {\n    // 26.3.3.1\n    constructor: Loader,\n    // 26.3.3.2\n    define: function(name, source, options) {\n      // check if already defined\n      if (this._loader.importPromises[name])\n        throw new TypeError('Module is already loading.');\n      return createImportPromise(this, name, new Promise(asyncStartLoadPartwayThrough({\n        step: 'translate',\n        loader: this._loader,\n        moduleName: name,\n        moduleMetadata: options && options.metadata || {},\n        moduleSource: source,\n        moduleAddress: options && options.address\n      })));\n    },\n    // 26.3.3.3\n    'delete': function(name) {\n      var loader = this._loader;\n      delete loader.importPromises[name];\n      delete loader.moduleRecords[name];\n      return loader.modules[name] ? delete loader.modules[name] : false;\n    },\n    // 26.3.3.4 entries not implemented\n    // 26.3.3.5\n    get: function(key) {\n      if (!this._loader.modules[key])\n        return;\n      doEnsureEvaluated(this._loader.modules[key], [], this);\n      return this._loader.modules[key].module;\n    },\n    // 26.3.3.7\n    has: function(name) {\n      return !!this._loader.modules[name];\n    },\n    // 26.3.3.8\n    'import': function(name, parentName, parentAddress) {\n      if (typeof parentName == 'object')\n        parentName = parentName.name;\n\n      // run normalize first\n      var loaderObj = this;\n\n      // added, see https://bugs.ecmascript.org/show_bug.cgi?id=2659\n      return Promise.resolve(loaderObj.normalize(name, parentName))\n      .then(function(name) {\n        var loader = loaderObj._loader;\n\n        if (loader.modules[name]) {\n          doEnsureEvaluated(loader.modules[name], [], loader._loader);\n          return loader.modules[name].module;\n        }\n\n        return loader.importPromises[name] || createImportPromise(loaderObj, name,\n          loadModule(loader, name, {})\n          .then(function(load) {\n            delete loader.importPromises[name];\n            return evaluateLoadedModule(loader, load);\n          }));\n      });\n    },\n    // 26.3.3.9 keys not implemented\n    // 26.3.3.10\n    load: function(name) {\n      var loader = this._loader;\n      if (loader.modules[name])\n        return Promise.resolve();\n      return loader.importPromises[name] || createImportPromise(this, name, new Promise(asyncStartLoadPartwayThrough({\n        step: 'locate',\n        loader: loader,\n        moduleName: name,\n        moduleMetadata: {},\n        moduleSource: undefined,\n        moduleAddress: undefined\n      }))\n      .then(function() {\n        delete loader.importPromises[name];\n      }));\n    },\n    // 26.3.3.11\n    module: function(source, options) {\n      var load = createLoad();\n      load.address = options && options.address;\n      var linkSet = createLinkSet(this._loader, load);\n      var sourcePromise = Promise.resolve(source);\n      var loader = this._loader;\n      var p = linkSet.done.then(function() {\n        return evaluateLoadedModule(loader, load);\n      });\n      proceedToTranslate(loader, load, sourcePromise);\n      return p;\n    },\n    // 26.3.3.12\n    newModule: function (obj) {\n      if (typeof obj != 'object')\n        throw new TypeError('Expected object');\n\n      var m = new Module();\n\n      var pNames = [];\n      if (Object.getOwnPropertyNames && obj != null)\n        pNames = Object.getOwnPropertyNames(obj);\n      else\n        for (var key in obj)\n          pNames.push(key);\n\n      for (var i = 0; i < pNames.length; i++) (function(key) {\n        defineProperty(m, key, {\n          configurable: false,\n          enumerable: true,\n          get: function () {\n            return obj[key];\n          },\n          set: function() {\n            throw new Error('Module exports cannot be changed externally.');\n          }\n        });\n      })(pNames[i]);\n\n      if (Object.freeze)\n        Object.freeze(m);\n\n      return m;\n    },\n    // 26.3.3.14\n    set: function(name, module) {\n      if (!(module instanceof Module))\n        throw new TypeError('Loader.set(' + name + ', module) must be a module');\n      this._loader.modules[name] = {\n        module: module\n      };\n    },\n    // 26.3.3.15 values not implemented\n    // 26.3.3.16 @@iterator not implemented\n    // 26.3.3.17 @@toStringTag not implemented\n\n    // 26.3.3.18.1\n    normalize: function(name, referrerName, referrerAddress) {\n      return name;\n    },\n    // 26.3.3.18.2\n    locate: function(load) {\n      return load.name;\n    },\n    // 26.3.3.18.3\n    fetch: function(load) {\n    },\n    // 26.3.3.18.4\n    translate: function(load) {\n      return load.source;\n    },\n    // 26.3.3.18.5\n    instantiate: function(load) {\n    }\n  };\n\n  var _newModule = Loader.prototype.newModule;\n\n/*\n * ES6 Module Declarative Linking Code - Dev Build Only\n */\n  function link(linkSet, linkError) {\n\n    var loader = linkSet.loader;\n\n    if (!linkSet.loads.length)\n      return;\n\n    var loads = linkSet.loads.concat([]);\n\n    for (var i = 0; i < loads.length; i++) {\n      var load = loads[i];\n\n      var module = doDynamicExecute(linkSet, load, linkError);\n      if (!module)\n        return;\n      load.module = {\n        name: load.name,\n        module: module\n      };\n      load.status = 'linked';\n\n      finishLoad(loader, load);\n    }\n  }\n\n  function evaluateLoadedModule(loader, load) {\n    console.assert(load.status == 'linked', 'is linked ' + load.name);\n    return load.module.module;\n  }\n\n  function doEnsureEvaluated() {}\n\n  function transpile() {\n    throw new TypeError('ES6 transpilation is only provided in the dev module loader build.');\n  }\n})();\n/*\n*********************************************************************************************\n\n  System Loader Implementation\n\n    - Implemented to https://github.com/jorendorff/js-loaders/blob/master/browser-loader.js\n\n    - <script type=\"module\"> supported\n\n*********************************************************************************************\n*/\n\nvar System;\n\nfunction SystemLoader() {\n  Loader.call(this);\n  this.paths = {};\n}\n\n// NB no specification provided for System.paths, used ideas discussed in https://github.com/jorendorff/js-loaders/issues/25\nfunction applyPaths(paths, name) {\n  // most specific (most number of slashes in path) match wins\n  var pathMatch = '', wildcard, maxWildcardPrefixLen = 0;\n\n  // check to see if we have a paths entry\n  for (var p in paths) {\n    var pathParts = p.split('*');\n    if (pathParts.length > 2)\n      throw new TypeError('Only one wildcard in a path is permitted');\n\n    // exact path match\n    if (pathParts.length == 1) {\n      if (name == p)\n        return paths[p];\n      \n      // support trailing / in paths rules\n      else if (name.substr(0, p.length - 1) == p.substr(0, p.length - 1) && (name.length < p.length || name[p.length - 1] == p[p.length - 1]) && paths[p][paths[p].length - 1] == '/')\n        return paths[p].substr(0, paths[p].length - 1) + (name.length > p.length ? '/' + name.substr(p.length) : '');\n    }\n    // wildcard path match\n    else {\n      var wildcardPrefixLen = pathParts[0].length;\n      if (wildcardPrefixLen >= maxWildcardPrefixLen &&\n          name.substr(0, pathParts[0].length) == pathParts[0] &&\n          name.substr(name.length - pathParts[1].length) == pathParts[1]) {\n            maxWildcardPrefixLen = wildcardPrefixLen;\n            pathMatch = p;\n            wildcard = name.substr(pathParts[0].length, name.length - pathParts[1].length - pathParts[0].length);\n          }\n    }\n  }\n\n  var outPath = paths[pathMatch];\n  if (typeof wildcard == 'string')\n    outPath = outPath.replace('*', wildcard);\n\n  return outPath;\n}\n\n// inline Object.create-style class extension\nfunction LoaderProto() {}\nLoaderProto.prototype = Loader.prototype;\nSystemLoader.prototype = new LoaderProto();\n\nvar absURLRegEx = /^([^\\/]+:\\/\\/|\\/)/;\n\n// Normalization with module names as absolute URLs\nSystemLoader.prototype.normalize = function(name, parentName, parentAddress) {\n  // NB does `import 'file.js'` import relative to the parent name or baseURL?\n  //    have assumed that it is baseURL-relative here, but spec may well align with URLs to be the latter\n  //    safe option for users is to always use \"./file.js\" for relative\n\n  // not absolute or relative -> apply paths (what will be sites)\n  if (!name.match(absURLRegEx) && name[0] != '.')\n    name = new URL(applyPaths(this.paths, name) || name, baseURI).href;\n  // apply parent-relative normalization, parentAddress is already normalized\n  else\n    name = new URL(name, parentName || baseURI).href;\n\n  return name;\n};\n\nSystemLoader.prototype.locate = function(load) {\n  return load.name;\n};\n\n\n// ensure the transpiler is loaded correctly\nSystemLoader.prototype.instantiate = function(load) {\n  var self = this;\n  return Promise.resolve(self.normalize(self.transpiler))\n  .then(function(transpilerNormalized) {\n    // load transpiler as a global (avoiding System clobbering)\n    if (load.address === transpilerNormalized) {\n      return {\n        deps: [],\n        execute: function() {\n          var curSystem = __global.System;\n          var curLoader = __global.Reflect.Loader;\n          // ensure not detected as CommonJS\n          __eval('(function(require,exports,module){' + load.source + '})();', load.address, __global);\n          __global.System = curSystem;\n          __global.Reflect.Loader = curLoader;\n          return self.newModule({ 'default': __global[self.transpiler], __useDefault: true });\n        }\n      };\n    }\n  });\n};\n  var fetchTextFromURL;\n  if (typeof XMLHttpRequest != 'undefined') {\n    fetchTextFromURL = function(url, authorization, fulfill, reject) {\n      var xhr = new XMLHttpRequest();\n      var sameDomain = true;\n      var doTimeout = false;\n      if (!('withCredentials' in xhr)) {\n        // check if same domain\n        var domainCheck = /^(\\w+:)?\\/\\/([^\\/]+)/.exec(url);\n        if (domainCheck) {\n          sameDomain = domainCheck[2] === window.location.host;\n          if (domainCheck[1])\n            sameDomain &= domainCheck[1] === window.location.protocol;\n        }\n      }\n      if (!sameDomain && typeof XDomainRequest != 'undefined') {\n        xhr = new XDomainRequest();\n        xhr.onload = load;\n        xhr.onerror = error;\n        xhr.ontimeout = error;\n        xhr.onprogress = function() {};\n        xhr.timeout = 0;\n        doTimeout = true;\n      }\n      function load() {\n        fulfill(xhr.responseText);\n      }\n      function error() {\n        reject(new Error('XHR error' + (xhr.status ? ' (' + xhr.status + (xhr.statusText ? ' ' + xhr.statusText  : '') + ')' : '') + ' loading ' + url));\n      }\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          // in Chrome on file:/// URLs, status is 0\n          if (xhr.status == 0) {\n            if (xhr.responseText) {\n              load();\n            }\n            else {\n              // when responseText is empty, wait for load or error event\n              // to inform if it is a 404 or empty file\n              xhr.addEventListener('error', error);\n              xhr.addEventListener('load', load);\n            }\n          }\n          else if (xhr.status === 200) {\n            load();\n          }\n          else {\n            error();\n          }\n        }\n      };\n      xhr.open(\"GET\", url, true);\n\n      if (xhr.setRequestHeader) {\n        xhr.setRequestHeader('Accept', 'application/x-es-module, */*');\n        // can set \"authorization: true\" to enable withCredentials only\n        if (authorization) {\n          if (typeof authorization == 'string')\n            xhr.setRequestHeader('Authorization', authorization);\n          xhr.withCredentials = true;\n        }\n      }\n\n      if (doTimeout) {\n        setTimeout(function() {\n          xhr.send();\n        }, 0);\n      } else {\n        xhr.send(null);\n      }\n    };\n  }\n  else if (typeof require != 'undefined' && typeof process != 'undefined') {\n    var fs;\n    fetchTextFromURL = function(url, authorization, fulfill, reject) {\n      if (url.substr(0, 8) != 'file:///')\n        throw new Error('Unable to fetch \"' + url + '\". Only file URLs of the form file:/// allowed running in Node.');\n      fs = fs || require('fs');\n      if (isWindows)\n        url = url.replace(/\\//g, '\\\\').substr(8);\n      else\n        url = url.substr(7);\n      return fs.readFile(url, function(err, data) {\n        if (err) {\n          return reject(err);\n        }\n        else {\n          // Strip Byte Order Mark out if it's the leading char\n          var dataString = data + '';\n          if (dataString[0] === '\\ufeff')\n            dataString = dataString.substr(1);\n\n          fulfill(dataString);\n        }\n      });\n    };\n  }\n  else if (typeof self != 'undefined' && typeof self.fetch != 'undefined') {\n    fetchTextFromURL = function(url, authorization, fulfill, reject) {\n      var opts = {\n        headers: {'Accept': 'application/x-es-module, */*'}\n      };\n\n      if (authorization) {\n        if (typeof authorization == 'string')\n          opts.headers['Authorization'] = authorization;\n        opts.credentials = 'include';\n      }\n\n      fetch(url, opts)\n        .then(function (r) {\n          if (r.ok) {\n            return r.text();\n          } else {\n            throw new Error('Fetch error: ' + r.status + ' ' + r.statusText);\n          }\n        })\n        .then(fulfill, reject);\n    }\n  }\n  else {\n    throw new TypeError('No environment fetch API available.');\n  }\n\n  SystemLoader.prototype.fetch = function(load) {\n    return new Promise(function(resolve, reject) {\n      fetchTextFromURL(load.address, undefined, resolve, reject);\n    });\n  };\n\n  // -- exporting --\n\n  if (typeof exports === 'object')\n    module.exports = Loader;\n\n  __global.Reflect = __global.Reflect || {};\n  __global.Reflect.Loader = __global.Reflect.Loader || Loader;\n  __global.Reflect.global = __global.Reflect.global || __global;\n  __global.LoaderPolyfill = Loader;\n\n  if (!System) {\n    System = new SystemLoader();\n    System.constructor = SystemLoader;\n  }\n\n  if (typeof exports === 'object')\n    module.exports = System;\n\n  __global.System = System;\n\n})(typeof self != 'undefined' ? self : global);"],"sourceRoot":"/source/"}